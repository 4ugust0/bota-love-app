<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocumentaÃ§Ã£o TÃ©cnica - Bota Love App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        @page {
            size: A4;
            margin: 2cm;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.8;
            color: #1F130C;
            background: #FFFFFF;
            padding: 40px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        /* Capa */
        .cover {
            page-break-after: always;
            text-align: center;
            padding: 100px 0;
            border-bottom: 3px solid #F9A825;
            margin-bottom: 40px;
        }
        
        .cover h1 {
            font-size: 36px;
            color: #502914;
            margin: 20px 0;
            font-weight: 700;
        }
        
        .cover .subtitle {
            font-size: 20px;
            color: #663C23;
            margin: 20px 0;
            font-weight: 500;
        }
        
        .cover .meta {
            font-size: 12px;
            color: #7A5841;
            margin-top: 60px;
            line-height: 1.8;
        }
        
        /* Headers */
        h1 {
            font-size: 28px;
            color: #502914;
            margin: 40px 0 20px 0;
            font-weight: 700;
            border-bottom: 3px solid #F9A825;
            padding-bottom: 10px;
            page-break-after: avoid;
        }
        
        h2 {
            font-size: 22px;
            color: #663C23;
            margin: 30px 0 15px 0;
            font-weight: 700;
            page-break-after: avoid;
        }
        
        h3 {
            font-size: 16px;
            color: #7A5841;
            margin: 20px 0 10px 0;
            font-weight: 600;
            page-break-after: avoid;
        }
        
        h4 {
            font-size: 14px;
            color: #502914;
            margin: 15px 0 8px 0;
            font-weight: 600;
            page-break-after: avoid;
        }
        
        /* ParÃ¡grafo */
        p {
            margin: 12px 0;
            text-align: justify;
            hyphens: auto;
        }
        
        /* Listas */
        ul, ol {
            margin: 15px 0 15px 30px;
        }
        
        ul li, ol li {
            margin: 8px 0;
        }
        
        ul li strong, ol li strong {
            color: #502914;
        }
        
        /* Links */
        a {
            color: #F9A825;
            text-decoration: none;
            border-bottom: 1px dotted #F9A825;
        }
        
        a:hover {
            color: #F57C00;
        }
        
        /* CÃ³digo */
        code {
            background: #FFF9E6;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 12px;
            color: #502914;
        }
        
        pre {
            background: #f5f5f5;
            border-left: 4px solid #F9A825;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 11px;
            line-height: 1.4;
            page-break-inside: avoid;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: #1F130C;
        }
        
        /* Blockquote */
        blockquote {
            border-left: 4px solid #F9A825;
            margin: 15px 0;
            padding-left: 15px;
            color: #663C23;
            font-style: italic;
        }
        
        /* Tabelas */
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            page-break-inside: avoid;
        }
        
        th {
            background: #F9A825;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 700;
            border: 1px solid #f0f0f0;
        }
        
        td {
            padding: 10px 12px;
            border: 1px solid #e0e0e0;
        }
        
        tr:nth-child(even) {
            background: #FFF9E6;
        }
        
        /* Linha horizontal */
        hr {
            border: none;
            height: 2px;
            background: #F9A825;
            margin: 30px 0;
        }
        
        /* Ãndice */
        .toc {
            page-break-after: always;
            background: #FFF9E6;
            padding: 20px;
            border-radius: 5px;
        }
        
        .toc h2 {
            border: none;
            margin-bottom: 20px;
        }
        
        .toc ul {
            list-style: none;
            margin: 0;
        }
        
        .toc li {
            margin: 8px 0;
            color: #502914;
        }
        
        /* Boxes especiais */
        .note {
            background: #E3F2FD;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
        }
        
        .warning {
            background: #FFF3E0;
            border-left: 4px solid #FF9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
        }
        
        .success {
            background: #E8F5E9;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
        }
        
        /* Footer */
        .footer {
            margin-top: 80px;
            padding-top: 20px;
            border-top: 2px solid #F9A825;
            text-align: center;
            font-size: 11px;
            color: #999;
            page-break-before: always;
        }
        
        .footer p {
            margin: 5px 0;
        }
        
        /* Print */
        @media print {
            body {
                padding: 0;
            }
            
            a {
                color: #F9A825;
            }
            
            h1, h2, h3, h4 {
                page-break-after: avoid;
            }
            
            table, ul, ol, pre {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>


    <div class="cover">
        <h1>DOCUMENTAÃ‡ÃƒO TÃ‰CNICA</h1>
        <div class="subtitle">ValidaÃ§Ã£o do Aplicativo Mobile Bota Love</div>
        <div class="meta">
            <p><strong>VersÃ£o:</strong> 1.0.0</p>
            <p><strong>Data:</strong> 01 de Fevereiro de 2026</p>
            <p><strong>Status:</strong> ProduÃ§Ã£o</p>
            <p><strong>ClassificaÃ§Ã£o:</strong> DocumentaÃ§Ã£o TÃ©cnica - ValidaÃ§Ã£o Contratual</p>
        </div>
    </div>
    
<h1>DOCUMENTAÃ‡ÃƒO TÃ‰CNICA PARA VALIDAÃ‡ÃƒO DO APLICATIVO MOBILE BOTA LOVE</h1>
<p><strong>VersÃ£o:</strong> 1.0.0</p>
<p><strong>Data:</strong> Fevereiro 2026</p>
<p><strong>Autor:</strong> Bota Love Team</p>
<p><strong>ClassificaÃ§Ã£o:</strong> DocumentaÃ§Ã£o TÃ©cnica - ValidaÃ§Ã£o Contratual</p>
<hr>
<h2>ğŸ“‹ ÃNDICE</h2>
<p>1. <a href="#resumo-executivo">Resumo Executivo</a></p>
<p>2. <a href="#lista-completa-de-funcionalidades">Lista Completa de Funcionalidades</a></p>
<p>3. <a href="#arquitetura-do-sistema">Arquitetura do Sistema</a></p>
<p>4. <a href="#descriÃ§Ã£o-detalhada-das-funcionalidades">DescriÃ§Ã£o Detalhada das Funcionalidades</a></p>
<p>5. <a href="#banco-de-dados-firebase">Banco de Dados Firebase</a></p>
<p>6. <a href="#cloud-functions---endpoints">Cloud Functions - Endpoints</a></p>
<p>7. <a href="#fluxos-e-telas-do-aplicativo">Fluxos e Telas do Aplicativo</a></p>
<p>8. <a href="#componentes-e-ativos-tÃ©cnicos">Componentes e Ativos TÃ©cnicos</a></p>
<p>9. <a href="#stack-tecnolÃ³gico">Stack TecnolÃ³gico</a></p>
<p>10. <a href="#seguranÃ§a-e-regras-firestore">SeguranÃ§a e Regras Firestore</a></p>
<hr>
<h2>ğŸ“Œ RESUMO EXECUTIVO</h2>
<p>O <strong>Bota Love App</strong> Ã© um aplicativo mobile de relacionamentos focado no pÃºblico rural e agro brasileiro. Desenvolvido com <em></em>React Native (Expo)** e **Firebase** como backend completo, o aplicativo oferece um conjunto robusto de funcionalidades para conectar profissionais do setor agropecuÃ¡rio.</p>
<h3>PerÃ­odo de Desenvolvimento</h3>
<ul>
<li><strong>InÃ­cio:</strong> Janeiro 2026</li>
<ul>
<li><strong>ConclusÃ£o:</strong> Fevereiro 2026</li>
<ul>
<li><strong>VersÃ£o:</strong> 1.0.0 (ProduÃ§Ã£o)</li>
</ul>
<h3>Plataformas Suportadas</h3>
<ul>
<li>âœ… iOS (Apple)</li>
<ul>
<li>âœ… Android (Google)</li>
<ul>
<li>âœ… Web (Progressive Web App)</li>
</ul>
<h3>Tecnologias Principais</h3>
<ul>
<li><strong>Frontend:</strong> React Native 0.81.5 + Expo 54.0.31 + TypeScript 5.9.2</li>
<ul>
<li><strong>Backend:</strong> Firebase (Auth, Firestore, Storage, Cloud Functions)</li>
<ul>
<li><strong>Pagamentos:</strong> Stripe PIX</li>
<ul>
<li><strong>NotificaÃ§Ãµes:</strong> Firebase Cloud Messaging</li>
</ul>
<hr>
<h2>ğŸ“‹ LISTA COMPLETA DE FUNCIONALIDADES</h2>
<h3>**MÃ“DULO 1: AUTENTICAÃ‡ÃƒO E CADASTRO**</h3>
<p>1. Registro de novo usuÃ¡rio com email</p>
<p>2. VerificaÃ§Ã£o de email via cÃ³digo</p>
<p>3. Login com email e senha</p>
<p>4. RecuperaÃ§Ã£o de senha</p>
<p>5. Logout</p>
<p>6. Gerenciamento de sessÃ£o</p>
<p>7. RenovaÃ§Ã£o de token</p>
<h3>**MÃ“DULO 2: GERENCIAMENTO DE PERFIL**</h3>
<p>1. CriaÃ§Ã£o de perfil completo</p>
<p>2. EdiÃ§Ã£o de informaÃ§Ãµes bÃ¡sicas (nome, data nascimento, gÃªnero)</p>
<p>3. Upload de fotos (mÃºltiplas)</p>
<p>4. Escrita de bio/descriÃ§Ã£o pessoal</p>
<p>5. SeleÃ§Ã£o de objetivos de relacionamento</p>
<p>6. ConfiguraÃ§Ã£o de preferÃªncias de gÃªnero</p>
<p>7. Detalhes profissionais (ocupaÃ§Ã£o, Ã¡reas agrÃ­colas)</p>
<p>8. VerificaÃ§Ã£o de perfil</p>
<p>9. PrÃ©-visualizaÃ§Ã£o de perfil</p>
<h3>**MÃ“DULO 3: DESCOBERTA E MATCHES**</h3>
<p>1. Feed de descoberta com cards deslizÃ¡veis</p>
<p>2. Like em perfil</p>
<p>3. Super Like (com notificaÃ§Ã£o especial)</p>
<p>4. RejeiÃ§Ã£o de perfil (Pass)</p>
<p>5. DetecÃ§Ã£o automÃ¡tica de match (like mÃºtuo)</p>
<p>6. CriaÃ§Ã£o automÃ¡tica de chat ao fazer match</p>
<p>7. VisualizaÃ§Ã£o de quem curtiu vocÃª</p>
<p>8. Gerenciamento de matches (ativo/inativo)</p>
<p>9. Desfazer match (unmatch)</p>
<h3>**MÃ“DULO 4: FILTROS E PREFERÃŠNCIAS**</h3>
<p>1. Filtros bÃ¡sicos (idade, distÃ¢ncia, localizaÃ§Ã£o)</p>
<p>2. Filtros avanÃ§ados (profissÃµes, atividades rurais, animais)</p>
<p>3. Salvamento de preferÃªncias</p>
<p>4. AplicaÃ§Ã£o em tempo real</p>
<p>5. SugestÃ£o de filtros inteligentes</p>
<p>6. Filtro por verificaÃ§Ã£o de perfil</p>
<p>7. Filtro por presenÃ§a de fotos</p>
<p>8. Filtro por caracterÃ­sticas rurais</p>
<h3>**MÃ“DULO 5: CHAT E MENSAGENS**</h3>
<p>1. Conversas em tempo real</p>
<p>2. Envio de mensagens de texto</p>
<p>3. Suporte a mÃºltiplos tipos de mensagens (texto, imagem)</p>
<p>4. Status de leitura de mensagens</p>
<p>5. HistÃ³rico de conversas persistente</p>
<p>6. Busca em conversas</p>
<p>7. NotificaÃ§Ãµes de novas mensagens</p>
<p>8. Bloqueio de usuÃ¡rios</p>
<p>9. ModeraÃ§Ã£o de conteÃºdo em mensagens</p>
<p>10. Lembretes de inatividade</p>
<p>11. PresenÃ§a online/offline</p>
<h3>**MÃ“DULO 6: SYSTEM DE PLANOS E ASSINATURAS**</h3>
<p>1. Plano Gratuito com limites progressivos</p>
<p>- Dia 1: Acesso ilimitado (onboarding)</p>
<p>- Dias 2-7: 120 views, 25 likes, 1 msg/match</p>
<p>- Dias 8-10: 50 views, 25 likes, 1 msg/match</p>
<p>- Dias 11-14: 20 views, 15 likes, 0 msg (leitura)</p>
<p>- ApÃ³s mÃªs: 10 views, 10 likes, 0 msg (leitura)</p>
<p>- 2+ meses: 5 views, 5 likes, 0 msg (leitura)</p>
<p>2. Premium Mensal</p>
<p>- Acesso ilimitado a descoberta</p>
<p>- Mensagens ilimitadas</p>
<p>- Filtros avanÃ§ados</p>
<p>- Boost de perfil</p>
<p>- Visibilidade de quem curtiu</p>
<p>3. Premium Trimestral</p>
<p>- Todos os benefÃ­cios mensais</p>
<p>- Desconto de preÃ§o</p>
<p>4. Premium Anual</p>
<p>- Todos os benefÃ­cios mensais</p>
<p>- Melhor desconto de preÃ§o</p>
<p>5. Network Rural (Monthly)</p>
<p>- Acesso a rede profissional</p>
<p>- ConexÃµes com profissionais agrÃ­colas</p>
<p>- Chat dedicado para networking</p>
<p>6. Network Rural (Lifetime)</p>
<p>- Acesso permanente</p>
<p>- Todas as features do Network</p>
<h3>**MÃ“DULO 7: EVENTOS AGRO**</h3>
<p>1. Listagem de eventos (rodeios, feiras, shows, congressos)</p>
<p>2. CriaÃ§Ã£o de eventos (produtores)</p>
<p>3. EdiÃ§Ã£o de eventos prÃ³prios</p>
<p>4. Deletar eventos</p>
<p>5. Detalhes do evento (data, local, descriÃ§Ã£o)</p>
<p>6. Indicar interesse em evento</p>
<p>7. Confirmar presenÃ§a</p>
<p>8. Visualizar estatÃ­sticas de evento</p>
<p>9. PublicaÃ§Ã£o com duraÃ§Ã£o configurÃ¡vel (15, 30, 60, 90 dias)</p>
<p>10. Destaque de eventos (com custo adicional)</p>
<p>11. Busca e filtro de eventos por tipo</p>
<h3>**MÃ“DULO 8: NETWORK RURAL**</h3>
<p>1. Perfil para networking profissional</p>
<p>2. Busca de profissionais do agro</p>
<p>3. Filtro por Ã¡rea de atuaÃ§Ã£o</p>
<p>4. IntegraÃ§Ã£o com LinkedIn</p>
<p>5. ConexÃ£o profissional (3 tipos: profissional, negÃ³cio, mentoria)</p>
<p>6. Chat dedicado para network</p>
<p>7. EstatÃ­sticas de conexÃµes</p>
<p>8. RecomendaÃ§Ãµes profissionais</p>
<h3>**MÃ“DULO 9: LOJA VIRTUAL**</h3>
<p>1. Compra de Super Likes avulsos</p>
<p>2. Compra de Boosts (Assobios do PeÃ£o)</p>
<p>3. HistÃ³rico de compras</p>
<p>4. Carrinho de compras</p>
<p>5. Checkout integrado</p>
<h3>**MÃ“DULO 10: NOTIFICAÃ‡Ã•ES**</h3>
<p>1. Push notifications (iOS/Android)</p>
<p>2. NotificaÃ§Ãµes de novo match</p>
<p>3. NotificaÃ§Ãµes de like recebido</p>
<p>4. NotificaÃ§Ãµes de super like</p>
<p>5. NotificaÃ§Ãµes de nova mensagem</p>
<p>6. NotificaÃ§Ãµes de evento interessante</p>
<p>7. NotificaÃ§Ãµes de assinatura expirando</p>
<p>8. ConfiguraÃ§Ã£o de preferÃªncias de notificaÃ§Ã£o</p>
<h3>**MÃ“DULO 11: MODERAÃ‡ÃƒO E SEGURANÃ‡A**</h3>
<p>1. ModeraÃ§Ã£o de perfis (fotos, bio)</p>
<p>2. ModeraÃ§Ã£o de mensagens (conteÃºdo imprÃ³prio)</p>
<p>3. Bloqueio de usuÃ¡rios</p>
<p>4. Report de usuÃ¡rios</p>
<p>5. Banimento de contas</p>
<p>6. Auditoria de aÃ§Ãµes</p>
<p>7. VerificaÃ§Ã£o de email obrigatÃ³ria</p>
<h3>**MÃ“DULO 12: CONFIGURAÃ‡Ã•ES**</h3>
<p>1. ConfiguraÃ§Ã£o de notificaÃ§Ãµes push</p>
<p>2. Privacidade de perfil (mostrar/esconder)</p>
<p>3. Gerenciamento de preferÃªncias de descoberta</p>
<p>4. AlteraÃ§Ã£o de senha</p>
<p>5. Logout</p>
<p>6. DeleÃ§Ã£o de conta</p>
<p>7. Baixar dados pessoais (LGPD)</p>
<h3>**MÃ“DULO 13: ESPECIAL - CORREIO DA ROÃ‡A**</h3>
<p>1. Envio de mensagens anÃ´nimas (pendente de aceite)</p>
<p>2. AceitaÃ§Ã£o/rejeiÃ§Ã£o de mensagens anÃ´nimas</p>
<p>3. RevelaÃ§Ã£o de identidade (automÃ¡tica apÃ³s 24h)</p>
<p>4. CriaÃ§Ã£o de match apÃ³s aceitar</p>
<h3>**MÃ“DULO 14: ONBOARDING**</h3>
<p>1. Splash screen</p>
<p>2. SeleÃ§Ã£o de gÃªnero</p>
<p>3. SeleÃ§Ã£o de orientaÃ§Ã£o sexual</p>
<p>4. SeleÃ§Ã£o de objetivos relacionais</p>
<p>5. SeleÃ§Ã£o de "o que vocÃª procura aqui"</p>
<p>6. Upload de fotos de perfil</p>
<p>7. Preenchimento de dados pessoais</p>
<p>8. ConfirmaÃ§Ã£o de termos e condiÃ§Ãµes</p>
<p>9. ConclusÃ£o do onboarding</p>
<hr>
<h2>ğŸ—ï¸ ARQUITETURA DO SISTEMA</h2>
<h3>Diagrama Geral</h3>
<pre><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BOTA LOVE APP                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              FRONTEND - React Native (Expo)                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Telas (File-based routing)                             â”‚   â”‚
â”‚  â”‚  â”œâ”€ Componentes reutilizÃ¡veis                             â”‚   â”‚
â”‚  â”‚  â”œâ”€ Gerenciamento de estado (Context API)                â”‚   â”‚
â”‚  â”‚  â”œâ”€ Hooks customizados                                    â”‚   â”‚
â”‚  â”‚  â””â”€ Tema e estilizaÃ§Ã£o                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           FIREBASE - Backend as a Service                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ Authentication (Email/Password)                         â”‚   â”‚
â”‚  â”‚  â”œâ”€ Firestore (NoSQL Database)                             â”‚   â”‚
â”‚  â”‚  â”œâ”€ Storage (Imagens de perfil)                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ Cloud Functions (LÃ³gica serverless)                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ Cloud Messaging (Push notifications)                   â”‚   â”‚
â”‚  â”‚  â””â”€ Security Rules (Controle de acesso)                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        INTEGRAÃ‡Ã•ES EXTERNAS                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ Stripe (Pagamentos PIX)                                â”‚   â”‚
â”‚  â”‚  â”œâ”€ LinkedIn (VerificaÃ§Ã£o profissional)                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ SendGrid (Email)                                       â”‚   â”‚
â”‚  â”‚  â””â”€ Google Cloud Vision (ModeraÃ§Ã£o de imagens)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3>Stack TecnolÃ³gico Detalhado</h3>
<h4>Frontend</h4>
<ul>
<li><strong>Runtime:</strong> Expo 54.0.31</li>
<ul>
<li><strong>Framework:</strong> React Native 0.81.5</li>
<ul>
<li><strong>Linguagem:</strong> TypeScript 5.9.2</li>
<ul>
<li><strong>Roteamento:</strong> Expo Router 6.0.21</li>
<ul>
<li><strong>UI:</strong> React Native com tema customizado</li>
<ul>
<li><strong>AnimaÃ§Ãµes:</strong> React Native Reanimated 4.1.1</li>
<ul>
<li><strong>Gestos:</strong> React Native Gesture Handler 2.28.0</li>
</ul>
<h4>Backend</h4>
<ul>
<li><strong>AutenticaÃ§Ã£o:</strong> Firebase Auth</li>
<ul>
<li><strong>Banco de Dados:</strong> Firestore (NoSQL)</li>
<ul>
<li><strong>Armazenamento:</strong> Firebase Storage</li>
<ul>
<li><strong>FunÃ§Ãµes:</strong> Cloud Functions v2</li>
<ul>
<li><strong>NotificaÃ§Ãµes:</strong> Firebase Cloud Messaging</li>
<ul>
<li><strong>RegiÃ£o:</strong> South America East (GCP - Brasil)</li>
</ul>
<h4>DependÃªncias CrÃ­ticas</h4>
<ul>
<li><code>firebase@^12.7.0</code> - SDK Firebase</li>
<ul>
<li><code>@react-native-firebase/<em>@^23.7.0</code> - Firebase para React Native</li>
<ul>
<li><code>expo-image-picker@~17.0.10</code> - SeleÃ§Ã£o de imagens</li>
<ul>
<li><code>expo-location@~19.0.8</code> - LocalizaÃ§Ã£o GPS</li>
<ul>
<li><code>expo-notifications@~0.32.16</code> - NotificaÃ§Ãµes locais</li>
<ul>
<li><code>date-fns@^3.6.0</code> - ManipulaÃ§Ã£o de datas</li>
</ul>
<h4>ServiÃ§os Terceirizados</h4>
<ul>
<li><strong>Stripe:</strong> Pagamentos via PIX</li>
<ul>
<li><strong>LinkedIn:</strong> AutenticaÃ§Ã£o e verificaÃ§Ã£o profissional</li>
<ul>
<li><strong>SendGrid:</strong> Envio de emails transacionais</li>
<ul>
<li><strong>Google Cloud Vision:</strong> ModeraÃ§Ã£o de imagens</li>
</ul>
<hr>
<h2>ğŸ“– DESCRIÃ‡ÃƒO DETALHADA DAS FUNCIONALIDADES</h2>
<h3>1. AUTENTICAÃ‡ÃƒO E CADASTRO</h3>
<h4>Finalidade</h4>
<p>Permitir que novos usuÃ¡rios se registrem de forma segura e usuÃ¡rios existentes faÃ§am login, garantindo a verificaÃ§Ã£o de identidade atravÃ©s de validaÃ§Ã£o de email.</p>
<h4>Funcionamento</h4>
<p>1. <strong>Registro (Sign Up)</strong></p>
<p>- UsuÃ¡rio insere email e cria senha</p>
<p>- Sistema envia cÃ³digo de verificaÃ§Ã£o por email</p>
<p>- UsuÃ¡rio digita cÃ³digo para confirmar propriedade do email</p>
<p>- Conta Ã© criada no Firebase Auth</p>
<p>- Documento de usuÃ¡rio Ã© criado no Firestore</p>
<p>2. <strong>Login</strong></p>
<p>- UsuÃ¡rio insere email e senha</p>
<p>- Firebase Auth valida credenciais</p>
<p>- SessÃ£o Ã© iniciada</p>
<p>- Dados do usuÃ¡rio sÃ£o carregados do Firestore</p>
<p>3. <strong>RecuperaÃ§Ã£o de Senha</strong></p>
<p>- UsuÃ¡rio solicita reset de senha</p>
<p>- Sistema envia cÃ³digo por email</p>
<p>- UsuÃ¡rio digita novo cÃ³digo e define nova senha</p>
<p>- Senha Ã© atualizada no Firebase Auth</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firebase Auth:</strong> AutenticaÃ§Ã£o e gerenciamento de credenciais</li>
<ul>
<li><strong>Firestore:</strong> Armazenamento de dados de usuÃ¡rio</li>
<ul>
<li><strong>Cloud Functions:</strong> Envio de emails de verificaÃ§Ã£o (SendGrid)</li>
<ul>
<li><strong>SendGrid:</strong> ServiÃ§o de email</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ authService.ts (registerUser, loginUser, resetPassword, etc)
  â”œâ”€ config.ts (ConfiguraÃ§Ã£o Firebase)
  â””â”€ types.ts (Tipos: FirebaseUser, LoginResult)

functions/src/auth/
  â”œâ”€ sendVerificationEmail.ts
  â”œâ”€ verifyEmailCode.ts
  â”œâ”€ sendPasswordResetCode.ts
  â””â”€ resetPassword.ts

contexts/
  â””â”€ AuthContext.tsx (Gerenciamento de estado de autenticaÃ§Ã£o)
</code></pre>
<hr>
<h3>2. GERENCIAMENTO DE PERFIL</h3>
<h4>Finalidade</h4>
<p>Permitir que usuÃ¡rios criem, editem e exibam um perfil completo com informaÃ§Ãµes pessoais, profissionais e de preferÃªncias.</p>
<h4>Funcionamento</h4>
<p>1. <strong>CriaÃ§Ã£o de Perfil</strong></p>
<p>- UsuÃ¡rio preenche dados bÃ¡sicos (nome, data de nascimento, gÃªnero)</p>
<p>- Upload de fotos de perfil (mÃ¡x 6 fotos)</p>
<p>- Bio pessoal (descriÃ§Ã£o)</p>
<p>- InformaÃ§Ãµes profissionais (ocupaÃ§Ã£o, Ã¡reas agrÃ­colas)</p>
<p>- PreferÃªncias de relacionamento</p>
<p>2. <strong>EdiÃ§Ã£o de Perfil</strong></p>
<p>- UsuÃ¡rio pode editar qualquer campo de seu perfil</p>
<p>- AlteraÃ§Ãµes sÃ£o salvas em tempo real no Firestore</p>
<p>- Fotos podem ser adicionadas, removidas ou reordenadas</p>
<p>3. <strong>VisualizaÃ§Ã£o de Perfil</strong></p>
<p>- Outros usuÃ¡rios podem visualizar o perfil (com restriÃ§Ãµes por plano)</p>
<p>- UsuÃ¡rio vÃª seu prÃ³prio perfil completo</p>
<p>- Sistema exibe informaÃ§Ãµes conforme visibilidade de perfil</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firestore:</strong> Armazenamento de dados de perfil</li>
<ul>
<li><strong>Firebase Storage:</strong> Armazenamento de imagens</li>
<ul>
<li><strong>Google Cloud Vision:</strong> ModeraÃ§Ã£o de imagens (conteÃºdo imprÃ³prio)</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ firestoreService.ts (updateUserProfile, updatePhotos)
  â””â”€ storageService.ts (Upload de imagens)

data/
  â”œâ”€ freePlanService.ts (Visibilidade conforme plano)
  â””â”€ bioValidationService.ts (ValidaÃ§Ã£o de bio)

contexts/
  â””â”€ AuthContext.tsx (updateProfile, updatePhotos)
</code></pre>
<hr>
<h3>3. DESCOBERTA E MATCHES</h3>
<h4>Finalidade</h4>
<p>Permitir que usuÃ¡rios descubram potenciais parceiros atravÃ©s de um feed interativo e faÃ§am matches (relacionamentos) atravÃ©s de likes mÃºtuos.</p>
<h4>Funcionamento</h4>
<p>1. <strong>Feed de Descoberta</strong></p>
<p>- Sistema exibe cards de usuÃ¡rios potenciais</p>
<p>- Ordem baseada em: proximidade, compatibilidade de filtros</p>
<p>- UsuÃ¡rio pode: Like, Super Like ou Pass (rejeitar)</p>
<p>- MÃ¡ximo de 50 usuÃ¡rios por carregamento</p>
<p>2. <strong>Sistema de Likes</strong></p>
<p>- <strong>Like Normal:</strong> Indica interesse em um usuÃ¡rio</p>
<p>- <strong>Super Like:</strong> Like com destaque especial (notificaÃ§Ã£o diferente)</p>
<p>- <strong>Pass:</strong> Rejeita usuÃ¡rio por tempo determinado</p>
<p>3. <strong>DetecÃ§Ã£o de Match</strong></p>
<p>- Se dois usuÃ¡rios dÃ£o like um no outro: MATCH! ğŸ‰</p>
<p>- Chat Ã© criado automaticamente</p>
<p>- Ambos recebem notificaÃ§Ã£o de match</p>
<p>- Conversa pode comeÃ§ar imediatamente</p>
<p>4. <strong>Gerenciamento de Matches</strong></p>
<p>- UsuÃ¡rio vÃª lista de matches</p>
<p>- Pode desativar match (unmatch)</p>
<p>- Pode bloquear usuÃ¡rio</p>
<p>- HistÃ³rico de matches permanece</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firestore:</strong> Armazenamento de likes, matches, passes</li>
<ul>
<li><strong>Cloud Functions:</strong> NotificaÃ§Ã£o de match</li>
<ul>
<li><strong>Cloud Messaging:</strong> Push notifications</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ matchService.ts (likeUser, superLikeUser, passUser, unmatch)
  â”œâ”€ discoveryService.ts (getDiscoveryFeed, calcularDistÃ¢ncia)
  â””â”€ types.ts (FirebaseLike, FirebaseMatch)

hooks/
  â””â”€ useDiscoveryFeed.ts (LÃ³gica do feed)

functions/src/notifications/
  â””â”€ sendMatchNotification.ts (Notifica match)
</code></pre>
<hr>
<h3>4. FILTROS E PREFERÃŠNCIAS</h3>
<h4>Finalidade</h4>
<p>Permitir que usuÃ¡rios refinarem sua descoberta atravÃ©s de filtros avanÃ§ados, garantindo maior compatibilidade e interesse mÃºtuo.</p>
<h4>Funcionamento</h4>
<p>1. <strong>Filtros BÃ¡sicos</strong></p>
<p>- Faixa etÃ¡ria (mÃ­n/mÃ¡x)</p>
<p>- Raio de distÃ¢ncia (km)</p>
<p>- LocalizaÃ§Ã£o (estado/cidade)</p>
<p>- PreferÃªncia de gÃªnero (homens, mulheres, ambos)</p>
<p>2. <strong>Filtros AvanÃ§ados</strong></p>
<p>- ProfissÃ£o</p>
<p>- Atividades rurais</p>
<p>- Tamanho de propriedade</p>
<p>- Animais que possui</p>
<p>- EducaÃ§Ã£o</p>
<p>- Filhos</p>
<p>- Interesses</p>
<p>- Estilo musical</p>
<p>3. <strong>AplicaÃ§Ã£o em Tempo Real</strong></p>
<p>- Filtros sÃ£o salvos automaticamente</p>
<p>- Feed atualiza com novos critÃ©rios</p>
<p>- Sem necessidade de reload</p>
<p>4. <strong>InteligÃªncia</strong></p>
<p>- Sistema sugere filtros baseado em padrÃµes</p>
<p>- Detecta filtros muito restritivos</p>
<p>- Oferece expansÃ£o de filtros</p>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ discoveryService.ts (AplicaÃ§Ã£o de filtros)
  â””â”€ types.ts (DiscoverySettings)

contexts/
  â””â”€ AuthContext.tsx (updateDiscoverySettings)

components/
  â”œâ”€ LockedFilter.tsx (Filtros bloqueados para gratuito)
  â””â”€ advanced-filters.tsx (Tela de filtros avanÃ§ados)
</code></pre>
<hr>
<h3>5. CHAT E MENSAGENS</h3>
<h4>Finalidade</h4>
<p>Permitir comunicaÃ§Ã£o em tempo real entre usuÃ¡rios que fizeram match, com suporte a mÃºltiplos tipos de conteÃºdo e moderaÃ§Ã£o.</p>
<h4>Funcionamento</h4>
<p>1. <strong>Envio de Mensagens</strong></p>
<p>- UsuÃ¡rio digita mensagem</p>
<p>- Clica enviar</p>
<p>- Mensagem Ã© armazenada no Firestore</p>
<p>- Receptor recebe em tempo real</p>
<p>- Status: enviado â†’ entregue â†’ lido</p>
<p>2. <strong>Tipos de Mensagens</strong></p>
<p>- Texto simples</p>
<p>- Imagens</p>
<p>- Ãudio (planejado)</p>
<p>- Mensagens de sistema</p>
<p>3. <strong>ModeraÃ§Ã£o</strong></p>
<p>- Mensagens sÃ£o analisadas automaticamente</p>
<p>- Sistema detecta palavras imprÃ³prias</p>
<p>- ConteÃºdo imprÃ³prio Ã© filtrado/bloqueado</p>
<p>- HistÃ³rico de moderaÃ§Ã£o Ã© registrado</p>
<p>4. <strong>Gerenciamento de Conversas</strong></p>
<p>- HistÃ³rico persistente</p>
<p>- Busca em conversas</p>
<p>- Marcar como lida</p>
<p>- Bloqueio de usuÃ¡rio</p>
<p>- Lembretes de inatividade</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firestore:</strong> Armazenamento de chats e mensagens</li>
<ul>
<li><strong>Firebase Storage:</strong> Armazenamento de imagens em mensagens</li>
<ul>
<li><strong>Cloud Functions:</strong> ModeraÃ§Ã£o de conteÃºdo, notificaÃ§Ãµes</li>
<ul>
<li><strong>Advanced Moderation Service:</strong> AnÃ¡lise de conteÃºdo</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ chatService.ts (CRUD de chats e mensagens)
  â””â”€ types.ts (FirebaseChat, FirebaseMessage)

hooks/
  â””â”€ useChat.ts (LÃ³gica de chat)

services/
  â””â”€ advancedModerationService.ts (ModeraÃ§Ã£o)

functions/src/
  â”œâ”€ notifications/sendMessageNotification.ts
  â””â”€ moderation/moderateMessage.ts
</code></pre>
<hr>
<h3>6. SISTEMA DE PLANOS E ASSINATURAS</h3>
<h4>Finalidade</h4>
<p>Oferecer diferentes nÃ­veis de acesso (Gratuito, Premium, Network Rural) com monetizaÃ§Ã£o clara e limites justos.</p>
<h4>Funcionamento</h4>
<p><strong>PLANO GRATUITO (Freemium)</strong></p>
<p>Evolui em perÃ­odos com limites progressivos:</p>
<p><strong>PLANO PREMIUM</strong></p>
<ul>
<li>Acesso ilimitado a descoberta (views e likes)</li>
<ul>
<li>Mensagens ilimitadas com matches</li>
<ul>
<li>Filtros avanÃ§ados sem restriÃ§Ã£o</li>
<ul>
<li>Boost de perfil (aparece em destaque)</li>
<ul>
<li>Ver quem curtiu vocÃª</li>
<ul>
<li>Cancelamento a qualquer momento</li>
</ul>
<p>OpÃ§Ãµes de duraÃ§Ã£o:</p>
<ul>
<li>Mensal: R$ 49,90</li>
<ul>
<li>Trimestral: R$ 119,90 (desconto de ~20%)</li>
<ul>
<li>Anual: R$ 349,90 (desconto de ~30%)</li>
</ul>
<p><strong>PLANO NETWORK RURAL</strong></p>
<p>Acesso Ã  rede profissional de agropecuaristas:</p>
<ul>
<li>Networking com profissionais do agro</li>
<ul>
<li>Busca avanÃ§ada por Ã¡reas de atuaÃ§Ã£o</li>
<ul>
<li>IntegraÃ§Ã£o com LinkedIn</li>
<ul>
<li>Chat dedicado para networking</li>
<ul>
<li>RecomendaÃ§Ãµes profissionais</li>
</ul>
<p>OpÃ§Ãµes:</p>
<ul>
<li>Mensal: R$ 29,90</li>
<ul>
<li>Lifetime (vitalÃ­cio): R$ 199,90</li>
</ul>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firestore:</strong> Armazenamento de assinaturas</li>
<ul>
<li><strong>Stripe:</strong> Processamento de pagamentos PIX</li>
<ul>
<li><strong>Cloud Functions:</strong> ValidaÃ§Ã£o de pagamento, criaÃ§Ã£o de assinatura</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ subscriptionService.ts (Gerenciamento de assinaturas)
  â”œâ”€ stripeService.ts (IntegraÃ§Ã£o Stripe)
  â””â”€ types.ts (SubscriptionPlan, UserSubscription)

data/
  â””â”€ freePlanService.ts (LÃ³gica de limites do gratuito)

contexts/
  â”œâ”€ AuthContext.tsx (AÃ§Ãµes de subscription)
  â””â”€ FreePlanContext.tsx (Limites e conversÃ£o)

functions/src/stripe/
  â”œâ”€ createPixPayment.ts
  â”œâ”€ getPixPaymentStatus.ts
  â””â”€ stripeWebhook.ts
</code></pre>
<hr>
<h3>7. EVENTOS AGRO</h3>
<h4>Finalidade</h4>
<p>Permitir que produtores rurais publiquem eventos e que usuÃ¡rios descubram eventos de interesse (rodeios, feiras, shows, etc).</p>
<h4>Funcionamento</h4>
<p><strong>Para UsuÃ¡rios Comuns</strong></p>
<p>1. Acessam aba de Eventos</p>
<p>2. Veem listagem de eventos ativos</p>
<p>3. Filtram por tipo (rodeio, feira, show, etc)</p>
<p>4. Clicam em evento para detalhes</p>
<p>5. Podem indicar interesse ou confirmar presenÃ§a</p>
<p>6. Recebem notificaÃ§Ã£o quando evento se aproxima</p>
<p><strong>Para Produtores</strong></p>
<p>1. Acessam "Criar Evento"</p>
<p>2. Preenchem formulÃ¡rio:</p>
<p>- TÃ­tulo</p>
<p>- DescriÃ§Ã£o</p>
<p>- Tipo (rodeio, feira, show, congresso, etc)</p>
<p>- Data e hora</p>
<p>- Local (endereÃ§o, cidade, estado)</p>
<p>- Capacidade</p>
<p>- PreÃ§o de entrada (opcional)</p>
<p>3. Escolhem duraÃ§Ã£o de publicaÃ§Ã£o:</p>
<p>- 15 dias: R$ 49,90</p>
<p>- 30 dias: R$ 79,90</p>
<p>- 60 dias: R$ 129,90</p>
<p>- 90 dias: R$ 179,90</p>
<p>4. Opcionalmente, destacam evento:</p>
<p>- 15 dias de destaque: R$ 29,90</p>
<p>- 30 dias de destaque: R$ 49,90</p>
<p>- 60 dias de destaque: R$ 89,90</p>
<p>- 90 dias de destaque: R$ 129,90</p>
<p>5. Finalizando checkout com PIX</p>
<p>6. Evento fica ativo conforme duraÃ§Ã£o</p>
<p>7. Recebem notificaÃ§Ãµes de interesse e confirmaÃ§Ãµes</p>
<p><strong>MetrificaÃ§Ã£o</strong></p>
<ul>
<li>VisualizaÃ§Ãµes</li>
<ul>
<li>UsuÃ¡rios interessados</li>
<ul>
<li>ConfirmaÃ§Ãµes de presenÃ§a</li>
<ul>
<li>Alcance geogrÃ¡fico</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ eventService.ts (CRUD de eventos)
  â””â”€ types.ts (FirebaseEvent)

app/(tabs)/
  â”œâ”€ events.tsx (Listagem de eventos)
  â”œâ”€ create-event.tsx (CriaÃ§Ã£o)
  â””â”€ event-history.tsx (HistÃ³rico do produtor)

functions/src/stripe/
  â””â”€ Pagamentos de eventos
</code></pre>
<hr>
<h3>8. NETWORK RURAL</h3>
<h4>Finalidade</h4>
<p>Conectar profissionais do setor agropecuÃ¡rio para networking, oportunidades de negÃ³cios e mentoria.</p>
<h4>Funcionamento</h4>
<p>1. <strong>Ativar Network</strong></p>
<p>- UsuÃ¡rio habilita Network Rural em seu perfil</p>
<p>- Informa Ã¡reas de atuaÃ§Ã£o</p>
<p>- Define objetivos (parcerias, mentoria, etc)</p>
<p>- Indica o que procura</p>
<p>2. <strong>Busca de Profissionais</strong></p>
<p>- Sistema filtra usuÃ¡rios com Network ativo</p>
<p>- Filtros por: Ã¡reas, profissÃ£o, localizaÃ§Ã£o, LinkedIn</p>
<p>3. <strong>ConexÃ£o</strong></p>
<p>- UsuÃ¡rio envia pedido de conexÃ£o</p>
<p>- Outro usuÃ¡rio aceita/rejeita</p>
<p>- Se aceito: chat Ã© criado automaticamente</p>
<p>4. <strong>Chat de Network</strong></p>
<p>- Igual ao chat de matches</p>
<p>- Mensagens nÃ£o expiram</p>
<p>- Suporta compartilhamento de perfil</p>
<p>5. <strong>LinkedIn Integration</strong></p>
<p>- UsuÃ¡rios podem conectar perfil do LinkedIn</p>
<p>- VerificaÃ§Ã£o profissional automÃ¡tica</p>
<p>- Dados do LinkedIn sÃ£o sincronizados</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firestore:</strong> Armazenamento de conexÃµes</li>
<ul>
<li><strong>LinkedIn API:</strong> VerificaÃ§Ã£o profissional</li>
<ul>
<li><strong>Cloud Functions:</strong> NotificaÃ§Ãµes de conexÃ£o</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ networkRuralFirebaseService.ts
  â”œâ”€ linkedinService.ts
  â””â”€ types.ts (NetworkConnection, LinkedInProfile)

app/(tabs)/
  â””â”€ network-rural.tsx
</code></pre>
<hr>
<h3>9. LOJA VIRTUAL</h3>
<h4>Finalidade</h4>
<p>Permitir que usuÃ¡rios comprem itens para melhorar sua experiÃªncia no app (Super Likes, Boosts).</p>
<h4>Funcionamento</h4>
<p>1. <strong>Itens DisponÃ­veis</strong></p>
<p>- Super Likes avulsos (5, 10, 20 unidades)</p>
<p>- Boosts (Assobios do PeÃ£o) (1, 3, 5 unidades)</p>
<p>2. <strong>Compra</strong></p>
<p>- UsuÃ¡rio seleciona item</p>
<p>- Clica em comprar</p>
<p>- Sistema redireciona para checkout PIX</p>
<p>- ApÃ³s confirmaÃ§Ã£o, itens sÃ£o adicionados ao inventÃ¡rio</p>
<p>3. <strong>Uso</strong></p>
<p>- Super Like: Gasta 1 super like, dÃ¡ destaque especial</p>
<p>- Boost: Ativa boost por 24h, perfil fica em destaque</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Stripe:</strong> Pagamentos</li>
<ul>
<li><strong>Firestore:</strong> Armazenamento de inventÃ¡rio</li>
<ul>
<li><strong>Cloud Functions:</strong> ConfirmaÃ§Ã£o de compra</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ storeItemsService.ts
  â””â”€ types.ts (UserInventory)

app/(tabs)/
  â””â”€ store.tsx
</code></pre>
<hr>
<h3>10. NOTIFICAÃ‡Ã•ES</h3>
<h4>Finalidade</h4>
<p>Manter usuÃ¡rios engajados informando-os sobre eventos importantes em tempo real.</p>
<h4>Funcionamento</h4>
<p>1. <strong>Tipos de NotificaÃ§Ã£o</strong></p>
<p>- Novo match</p>
<p>- Novo like recebido</p>
<p>- Super like recebido</p>
<p>- Nova mensagem</p>
<p>- Evento de interesse se aproximando</p>
<p>- Assinatura expirando</p>
<p>- Assinatura expirada</p>
<p>2. <strong>Entrega</strong></p>
<p>- Push notification (iOS/Android)</p>
<p>- NotificaÃ§Ã£o in-app</p>
<p>- Email (configurÃ¡vel)</p>
<p>3. <strong>PersonalizaÃ§Ã£o</strong></p>
<p>- UsuÃ¡rio ativa/desativa por tipo</p>
<p>- Configura horÃ¡rios de notificaÃ§Ã£o</p>
<p>- Silencia para perÃ­odo especÃ­fico</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firebase Cloud Messaging:</strong> Entrega de notificaÃ§Ãµes</li>
<ul>
<li><strong>Expo Notifications:</strong> NotificaÃ§Ãµes locais</li>
<ul>
<li><strong>Cloud Functions:</strong> Triggers para envio</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ notificationService.ts
  â””â”€ types.ts (FirebaseNotification)

functions/src/notifications/
  â”œâ”€ sendMatchNotification.ts
  â”œâ”€ sendLikeNotification.ts
  â””â”€ sendMessageNotification.ts

contexts/
  â””â”€ AuthContext.tsx (notificationSettings)
</code></pre>
<hr>
<h3>11. MODERAÃ‡ÃƒO E SEGURANÃ‡A</h3>
<h4>Finalidade</h4>
<p>Manter a plataforma segura, removendo conteÃºdo imprÃ³prio e banindo usuÃ¡rios problemÃ¡ticos.</p>
<h4>Funcionamento</h4>
<p>1. <strong>ModeraÃ§Ã£o de Fotos</strong></p>
<p>- Google Cloud Vision API analisa conteÃºdo</p>
<p>- Detecta nudez, violÃªncia, etc</p>
<p>- Foto Ã© rejeitada ou aprovada</p>
<p>- UsuÃ¡rio Ã© notificado se rejeitada</p>
<p>2. <strong>ModeraÃ§Ã£o de Mensagens</strong></p>
<p>- Sistema detecta palavras imprÃ³prias (regex)</p>
<p>- AnÃ¡lise IA de toxicidade</p>
<p>- Mensagem Ã© filtrada ou bloqueada</p>
<p>- Admin Ã© notificado se necessÃ¡rio</p>
<p>3. <strong>Report e Banimento</strong></p>
<p>- UsuÃ¡rio pode reportar outro</p>
<p>- Admin analisa report</p>
<p>- Se confirmado, conta Ã© suspensa/banida</p>
<p>- Todas as conversas sÃ£o documentadas</p>
<p>4. <strong>Auditoria</strong></p>
<p>- Log de todas as aÃ§Ãµes</p>
<p>- HistÃ³rico de moderaÃ§Ã£o</p>
<p>- Rastreamento de violaÃ§Ãµes</p>
<h4>Arquivos Envolvidos</h4>
<pre><code>
services/
  â”œâ”€ imageModeration.ts
  â”œâ”€ bioValidationService.ts
  â””â”€ advancedModerationService.ts

functions/src/moderation/
  â””â”€ moderateMessage.ts

functions/src/auth/
  â””â”€ sendWelcomeEmail.ts (Template com regras)
</code></pre>
<hr>
<h3>12. CONFIGURAÃ‡Ã•ES</h3>
<h4>Finalidade</h4>
<p>Permitir que usuÃ¡rios personalizem sua experiÃªncia e gerenciem suas preferÃªncias.</p>
<h4>Funcionamento</h4>
<p>1. <strong>NotificaÃ§Ãµes</strong></p>
<p>- Ativar/desativar por tipo</p>
<p>- Configurar horÃ¡rios</p>
<p>- Configurar canais (push, email)</p>
<p>2. <strong>Privacidade</strong></p>
<p>- Mostrar/esconder perfil na descoberta</p>
<p>- Quem pode ver seu perfil</p>
<p>- Quem pode te adicionar</p>
<p>3. <strong>Dados</strong></p>
<p>- Baixar dados pessoais (LGPD)</p>
<p>- Excluir conta permanentemente</p>
<p>- Revogar acesso a LinkedIn</p>
<h4>Arquivos Envolvidos</h4>
<pre><code>
app/
  â””â”€ settings.tsx

contexts/
  â””â”€ AuthContext.tsx (updateDiscoverySettings)
</code></pre>
<hr>
<h3>13. CORREIO DA ROÃ‡A (Mensagens AnÃ´nimas)</h3>
<h4>Finalidade</h4>
<p>Permitir que usuÃ¡rios enviem mensagens anÃ´nimas para quem os interessa, como forma de "quebra-gelo".</p>
<h4>Funcionamento</h4>
<p>1. <strong>Envio</strong></p>
<p>- UsuÃ¡rio clica em "Correio da RoÃ§a" no perfil</p>
<p>- Escreve mensagem anÃ´nima</p>
<p>- Envia</p>
<p>- Remetente nÃ£o Ã© revelado imediatamente</p>
<p>2. <strong>RecepÃ§Ã£o</strong></p>
<p>- DestinatÃ¡rio recebe notificaÃ§Ã£o de mensagem anÃ´nima</p>
<p>- Pode aceitar ou rejeitar</p>
<p>- Se aceitar: match Ã© criado e identidade Ã© revelada</p>
<p>- Se rejeitar: mensagem Ã© descartada</p>
<p>3. <strong>RevelaÃ§Ã£o de Identidade</strong></p>
<p>- Se aceito: identidade Ã© revelada imediatamente</p>
<p>- Se nÃ£o aceito apÃ³s 24h: identidade Ã© revelada automaticamente</p>
<p>- Chat Ã© criado apenas se aceito</p>
<h4>IntegraÃ§Ãµes</h4>
<ul>
<li><strong>Firestore:</strong> Armazenamento de mensagens anÃ´nimas</li>
<ul>
<li><strong>Cloud Functions:</strong> RevelaÃ§Ã£o automÃ¡tica apÃ³s 24h</li>
</ul>
<h4>Arquivos Envolvidos</h4>
<pre><code>
firebase/
  â”œâ”€ matchService.ts (createCorreioDaRoca)
  â””â”€ types.ts (CorreioDaRoca)
</code></pre>
<hr>
<h3>14. ONBOARDING</h3>
<h4>Finalidade</h4>
<p>Guiar novos usuÃ¡rios atravÃ©s da configuraÃ§Ã£o inicial, garantindo perfil completo e preferÃªncias bem definidas.</p>
<h4>Funcionamento</h4>
<p>1. <strong>Splash Screen</strong></p>
<p>- Apresenta app com branding</p>
<p>- BotÃµes: Entrar / Criar Conta</p>
<p>2. <strong>Fluxo de Cadastro</strong></p>
<p>- Nome e email</p>
<p>- Senha</p>
<p>- VerificaÃ§Ã£o de email</p>
<p>- Termos e condiÃ§Ãµes</p>
<p>- Foto de perfil</p>
<p>3. <strong>Fluxo de Onboarding</strong></p>
<p>- SeleÃ§Ã£o de gÃªnero</p>
<p>- SeleÃ§Ã£o de orientaÃ§Ã£o sexual</p>
<p>- SeleÃ§Ã£o de objetivos (namoro, amizade, eventos, etc)</p>
<p>- O que procura aqui</p>
<p>- Bio pessoal</p>
<p>- Interesse em Network</p>
<p>- PreferÃªncias de gÃªnero</p>
<p>- ConclusÃ£o</p>
<h4>Arquivos Envolvidos</h4>
<pre><code>
app/
  â”œâ”€ onboarding.tsx
  â”œâ”€ onboarding-*.tsx (MÃºltiplas telas)
  â”œâ”€ signup.tsx
  â”œâ”€ signup-*.tsx (MÃºltiplas telas)
  â””â”€ signup-verify-email.tsx

contexts/
  â””â”€ SignupContext.tsx (Estado do fluxo)
</code></pre>
<hr>
<h2>ğŸ—„ï¸ BANCO DE DADOS FIREBASE</h2>
<h3>Estrutura do Firestore</h3>
<h4>1. Collection: `users`</h4>
<p>Armazena dados de todos os usuÃ¡rios do aplicativo.</p>
<pre><code>
{
  id: string,                    // UID Firebase Auth
  email: string,
  emailVerified: boolean,
  userType: &#39;agro&#39; | &#39;simpatizante&#39; | &#39;produtor&#39;,
  status: &#39;pending&#39; | &#39;active&#39; | &#39;suspended&#39; | &#39;deleted&#39;,
  
  // Perfil
  profile: {
    name: string,
    birthDate: Timestamp,
    age: number,
    gender: &#39;male&#39; | &#39;female&#39; | &#39;non_binary&#39; | &#39;other&#39;,
    genderPreference: &#39;male&#39; | &#39;female&#39; | &#39;all&#39;,
    bio: string,
    photos: string[],            // URLs em Storage
    city: string,
    state: string,
    occupation: string,
    relationshipGoals: string[],
    isAgroUser: boolean,
    agroAreas: string[],
    profileCompleted: boolean,
  },
  
  // Assinatura
  subscription: {
    status: &#39;none&#39; | &#39;trial&#39; | &#39;active&#39; | &#39;expired&#39; | &#39;cancelled&#39;,
    plan: &#39;free&#39; | &#39;premium_monthly&#39; | &#39;premium_quarterly&#39; | &#39;premium_annual&#39;,
    startDate: Timestamp | null,
    endDate: Timestamp | null,
    trialEndDate: Timestamp | null,
    autoRenew: boolean,
    lastPaymentId: string,
  },
  
  // Network Rural
  networkRural: {
    isActive: boolean,
    subscription: {
      status: &#39;none&#39; | &#39;trial&#39; | &#39;active&#39; | &#39;expired&#39;,
      plan: &#39;monthly&#39; | &#39;lifetime&#39;,
      startDate: Timestamp,
      endDate: Timestamp,
    },
    linkedIn: {
      profileUrl: string,
      currentPosition: string,
      company: string,
      isVerified: boolean,
    },
    goals: string[],
    lookingFor: string[],
  },
  
  // Descoberta
  discoverySettings: {
    showMe: boolean,
    ageRange: { min: number, max: number },
    distanceRadius: number,
    genderInterest: &#39;men&#39; | &#39;women&#39; | &#39;both&#39;,
    onlyVerified: boolean,
    onlyWithPhotos: boolean,
    selectedInterests: string[],
    selectedProfessions: string[],
    // ... mais filtros
  },
  
  // NotificaÃ§Ãµes
  notificationSettings: {
    pushEnabled: boolean,
    matchNotifications: boolean,
    messageNotifications: boolean,
    likeNotifications: boolean,
  },
  fcmTokens: string[],           // Tokens para push
  
  // EstatÃ­sticas
  stats: {
    totalLikes: number,
    totalMatches: number,
    totalMessages: number,
    profileViews: number,
    superLikesReceived: number,
  },
  
  // InventÃ¡rio
  inventory: {
    superLikes: number,
    boosts: number,
  },
  
  // Timestamps
  createdAt: Timestamp,
  updatedAt: Timestamp,
  lastActive: Timestamp,
}
</code></pre>
<h4>2. Collection: `likes`</h4>
<p>Armazena informaÃ§Ã£o de likes entre usuÃ¡rios.</p>
<pre><code>
{
  id: string,                    // fromUserId_toUserId
  fromUserId: string,            // Quem deu like
  toUserId: string,              // Quem recebeu like
  isSuperLike: boolean,
  createdAt: Timestamp,
  seen: boolean,
  matchCreated: boolean,         // Virou match?
  matchId: string,               // Se virou match
}
</code></pre>
<h4>3. Collection: `matches`</h4>
<p>Armazena matches entre usuÃ¡rios (quando hÃ¡ like mÃºtuo).</p>
<pre><code>
{
  id: string,                    // Gerado automÃ¡tico
  users: [string, string],       // IDs dos 2 usuÃ¡rios
  createdAt: Timestamp,
  lastMessageAt: Timestamp | null,
  chatId: string,                // Chat associado
  isActive: boolean,
  unmatchedBy: string,           // Se foi feito unmatch
  unmatchedAt: Timestamp,
}
</code></pre>
<h4>4. Collection: `chats`</h4>
<p>Armazena conversas entre usuÃ¡rios.</p>
<pre><code>
{
  id: string,
  participants: [string, string],       // IDs ordenados
  origin: &#39;match&#39; | &#39;network&#39; | &#39;correio_da_roca&#39;,
  matchId: string,                      // Se origin = match
  networkConnectionId: string,          // Se origin = network
  
  createdAt: Timestamp,
  updatedAt: Timestamp,
  lastMessage: {
    text: string,
    senderId: string,
    timestamp: Timestamp,
    type: &#39;text&#39; | &#39;image&#39;,
  },
  
  isActive: boolean,
  messageCount: number,
  inactivityReminders: number,
  lastReminderAt: Timestamp,
}
</code></pre>
<h4>5. Subcollection: `chats/{chatId}/messages`</h4>
<p>Armazena mensagens individuais.</p>
<pre><code>
{
  id: string,
  chatId: string,
  senderId: string,
  text: string,
  type: &#39;text&#39; | &#39;image&#39; | &#39;audio&#39; | &#39;system&#39; | &#39;misterio&#39;,
  status: &#39;sent&#39; | &#39;delivered&#39; | &#39;read&#39;,
  createdAt: Timestamp,
  readAt: Timestamp,
  
  // ModeraÃ§Ã£o
  moderated: boolean,
  originalText: string,          // Se foi sanitizado
  moderationScore: number,
  
  // Se for mensagem mistÃ©rio
  misterio: {
    isRevealed: boolean,
    revealedAt: Timestamp,
    expiresAt: Timestamp,        // 24h apÃ³s envio
    blurredPhotoUrl: string,
    originalPhotoUrl: string,
    senderName: string,
  },
}
</code></pre>
<h4>6. Collection: `payments`</h4>
<p>Armazena histÃ³rico de pagamentos.</p>
<pre><code>
{
  id: string,
  userId: string,
  
  amount: number,                 // Em centavos
  currency: string,               // BRL
  description: string,
  
  productId: string,              // Ex: &#39;premium_monthly&#39;
  plan: string,
  
  status: &#39;pending&#39; | &#39;completed&#39; | &#39;failed&#39; | &#39;refunded&#39;,
  provider: &#39;stripe&#39; | &#39;simulated&#39;,
  
  stripePaymentIntentId: string,
  
  createdAt: Timestamp,
  completedAt: Timestamp,
}
</code></pre>
<h4>7. Collection: `notifications`</h4>
<p>Armazena notificaÃ§Ãµes para cada usuÃ¡rio.</p>
<pre><code>
{
  id: string,
  userId: string,
  
  type: &#39;match&#39; | &#39;like&#39; | &#39;super_like&#39; | &#39;message&#39; | &#39;trial_expiring&#39;,
  title: string,
  body: string,
  
  data: {
    // Dados contextuais
    fromUserId: string,
    matchId: string,
    chatId: string,
  },
  
  read: boolean,
  readAt: Timestamp,
  
  pushSent: boolean,
  pushSentAt: Timestamp,
  
  createdAt: Timestamp,
}
</code></pre>
<h4>8. Collection: `events`</h4>
<p>Armazena eventos criados por produtores.</p>
<pre><code>
{
  id: string,
  creatorId: string,
  title: string,
  description: string,
  
  type: &#39;rodeio&#39; | &#39;exposicao&#39; | &#39;balada&#39; | &#39;encontro&#39; | &#39;feira&#39;,
  
  eventDate: Timestamp,
  eventTime: string,              // HH:mm
  
  location: {
    address: string,
    city: string,
    state: string,
    coordinates: {
      latitude: number,
      longitude: number,
    },
  },
  
  imageUrl: string,               // Em Storage
  
  capacity: number,
  ticketPrice: number,            // Em reais
  
  durationDays: number,           // 15, 30, 60, 90
  highlightDays: number,
  isHighlighted: boolean,
  
  status: &#39;active&#39; | &#39;completed&#39; | &#39;cancelled&#39;,
  
  views: number,
  interested: number,
  attendees: number,
  
  createdAt: Timestamp,
  updatedAt: Timestamp,
  expiresAt: Timestamp,           // Quando evento sai do ar
}
</code></pre>
<h4>9. Collection: `network_connections`</h4>
<p>Armazena conexÃµes profissionais do Network Rural.</p>
<pre><code>
{
  id: string,
  users: [string, string],              // IDs ordenados
  createdAt: Timestamp,
  
  chatId: string,                       // Chat automÃ¡tico
  connectionType: &#39;professional&#39; | &#39;business&#39; | &#39;mentorship&#39;,
  
  isActive: boolean,
}
</code></pre>
<h4>10. Collection: `correio_da_roca`</h4>
<p>Armazena mensagens anÃ´nimas.</p>
<pre><code>
{
  id: string,
  fromUserId: string,             // Remetente (oculto no inÃ­cio)
  toUserId: string,               // DestinatÃ¡rio
  
  message: string,
  status: &#39;pending&#39; | &#39;accepted&#39; | &#39;rejected&#39;,
  
  createdAt: Timestamp,
  respondedAt: Timestamp,
  
  chatId: string,                 // Criado se aceito
  matchId: string,                // Criado se aceito
}
</code></pre>
<h4>11. Collection: `email_verifications`</h4>
<p>Armazena cÃ³digos de verificaÃ§Ã£o de email.</p>
<pre><code>
{
  id: string,                     // email (lowercase + trimmed)
  email: string,
  code: string,
  expiresAt: Timestamp,           // 24h
  verified: boolean,
  verifiedAt: Timestamp,
  attempts: number,
  createdAt: Timestamp,
  usedForRegistration: boolean,   // Se foi usado no cadastro
  registeredUserId: string,
  registeredAt: Timestamp,
}
</code></pre>
<h3>Ãndices do Firestore</h3>
<p>Para otimizar queries, os seguintes Ã­ndices sÃ£o criados:</p>
<pre><code>
// Users
- users:email
- users:userType, users:status
- users:status
- users:profile.city, users:profile.state
- users:subscription.status

// Likes
- likes:toUserId, likes:createdAt (desc)
- likes:fromUserId, likes:createdAt (desc)
- likes:isSuperLike, likes:createdAt (desc)

// Matches
- matches:users, matches:createdAt (desc)
- matches:createdAt (desc)
- matches:lastMessageAt (desc)

// Chats
- chats:participants, chats:updatedAt (desc)
- chats:createdAt (desc)

// Messages
- chats/{chatId}/messages:createdAt (desc)
- chats/{chatId}/messages:status

// Events
- events:status, events:expiresAt
- events:city, events:state
- events:createdAt (desc)

// Notifications
- notifications:userId, notifications:read
- notifications:userId, notifications:createdAt (desc)
</code></pre>
<hr>
<h2>â˜ï¸ CLOUD FUNCTIONS - ENDPOINTS</h2>
<h3>ConfiguraÃ§Ã£o Global</h3>
<p><strong>RegiÃ£o:</strong> <code>southamerica-east1</code> (SÃ£o Paulo, Brasil)</p>
<p><strong>VersÃ£o:</strong> Firebase Functions v2</p>
<p><strong>Runtime:</strong> Node.js 20</p>
<h3>FunÃ§Ãµes de AutenticaÃ§Ã£o</h3>
<h4>1. `sendVerificationEmail`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>AutenticaÃ§Ã£o:</strong> Requer usuÃ¡rio autenticado</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>userId: string,</p>
<p>email: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>message?: string,</p>
<p>error?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Enviar email com cÃ³digo de verificaÃ§Ã£o</li>
</ul>
<h4>2. `verifyEmailCode`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>userId: string,</p>
<p>code: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>message?: string,</p>
<p>error?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Validar cÃ³digo de verificaÃ§Ã£o e marcar email como verificado</li>
</ul>
<h4>3. `resendVerificationCode`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>AutenticaÃ§Ã£o:</strong> Requer usuÃ¡rio autenticado</li>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>message?: string,</p>
<p>error?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Reenviar cÃ³digo de verificaÃ§Ã£o</li>
</ul>
<h4>4. `sendPasswordResetCode`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>email: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>message?: string,</p>
<p>error?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Enviar cÃ³digo de reset de senha</li>
</ul>
<h4>5. `verifyPasswordResetCode`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>email: string,</p>
<p>code: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>message?: string,</p>
<p>error?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Validar cÃ³digo de reset antes de definir nova senha</li>
</ul>
<h4>6. `resetPassword`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>email: string,</p>
<p>code: string,</p>
<p>newPassword: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>message?: string,</p>
<p>error?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Alterar senha do usuÃ¡rio</li>
</ul>
<h4>7. `sendWelcomeEmail`</h4>
<ul>
<li><strong>Tipo:</strong> Cloud Function (apÃ³s registro)</li>
<ul>
<li><strong>Trigger:</strong> AutomÃ¡tico (novo documento em <code>users</code>)</li>
<ul>
<li><strong>Finalidade:</strong> Enviar email de boas-vindas</li>
</ul>
<h3>FunÃ§Ãµes de NotificaÃ§Ã£o</h3>
<h4>8. `sendMatchNotification`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>userId: string,</p>
<p>matchId: string,</p>
<p>fromUserName: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>notificationId?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Notificar novo match</li>
</ul>
<h4>9. `sendLikeNotification`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>userId: string,</p>
<p>fromUserId: string,</p>
<p>isSuperLike: boolean</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>notificationId?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Notificar novo like/super like</li>
</ul>
<h4>10. `sendMessageNotification`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>userId: string,</p>
<p>chatId: string,</p>
<p>fromUserName: string,</p>
<p>messagePreview: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>notificationId?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Notificar nova mensagem</li>
</ul>
<h3>FunÃ§Ãµes de ModeraÃ§Ã£o</h3>
<h4>11. `moderateMessage`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>messageId: string,</p>
<p>chatId: string,</p>
<p>text: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>moderated: boolean,</p>
<p>action: 'allowed' | 'filtered' | 'blocked',</p>
<p>originalText?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> ModeraÃ§Ã£o automÃ¡tica de conteÃºdo</li>
</ul>
<h3>FunÃ§Ãµes de Pagamento (Stripe PIX)</h3>
<h4>12. `createPixPayment`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>AutenticaÃ§Ã£o:</strong> Requer usuÃ¡rio autenticado</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>userId: string,</p>
<p>product: {</p>
<p>id: string,</p>
<p>name: string,</p>
<p>amount: number,          // em centavos</p>
<p>category: 'premium' | 'network' | 'store'</p>
<p>},</p>
<p>customerEmail?: string,</p>
<p>customerName?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>paymentId?: string,</p>
<p>pixCode?: string,          // Copia e cola</p>
<p>pixQrCode?: string,        // Base64</p>
<p>expiresAt?: string,        // ISO 8601</p>
<p>error?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Criar pagamento PIX e retornar QR Code</li>
</ul>
<h4>13. `getPixPaymentStatus`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>paymentId: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>status: 'pending' | 'processing' | 'succeeded' | 'failed' | 'expired',</p>
<p>paidAt?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Verificar status de um pagamento PIX</li>
</ul>
<h4>14. `cancelPixPayment`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>ParÃ¢metros:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>paymentId: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>message?: string</p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Cancelar pagamento PIX pendente</li>
</ul>
<h4>15. `getPaymentHistory`</h4>
<ul>
<li><strong>Tipo:</strong> Callable Function</li>
<ul>
<li><strong>AutenticaÃ§Ã£o:</strong> Requer usuÃ¡rio autenticado</li>
<ul>
<li><strong>Resposta:</strong></li>
</ul>
<p>```typescript</p>
<p>{</p>
<p>success: boolean,</p>
<p>payments?: Array<{</p>
<p>id: string,</p>
<p>amount: number,</p>
<p>currency: string,</p>
<p>status: string,</p>
<p>createdAt: string,</p>
<p>productId: string,</p>
<p>productName: string</p>
<p>}></p>
<p>}</p>
<p>```</p>
<ul>
<li><strong>Finalidade:</strong> Obter histÃ³rico de pagamentos do usuÃ¡rio</li>
</ul>
<h4>16. `stripeWebhook`</h4>
<ul>
<li><strong>Tipo:</strong> HTTP Function</li>
<ul>
<li><strong>AutenticaÃ§Ã£o:</strong> ValidaÃ§Ã£o de signature Stripe</li>
<ul>
<li><strong>Triggers:</strong></li>
</ul>
<p>- <code>charge.succeeded</code> - Pagamento confirmado</p>
<p>- <code>charge.failed</code> - Pagamento falhou</p>
<p>- <code>charge.refunded</code> - Reembolso processado</p>
<ul>
<li><strong>Finalidade:</strong> Webhook para receber eventos do Stripe</li>
</ul>
<h3>FunÃ§Ãµes de UsuÃ¡rio</h3>
<h4>17. `onUserLogin`</h4>
<ul>
<li><strong>Tipo:</strong> Cloud Function (trigger)</li>
<ul>
<li><strong>Trigger:</strong> <code>onAuthStateChanged</code> (Realtime Database)</li>
<ul>
<li><strong>Finalidade:</strong> Registrar login, atualizar <code>lastActive</code></li>
</ul>
<hr>
<h2>ğŸ¨ FLUXOS E TELAS DO APLICATIVO</h2>
<h3>Fluxo Geral de NavegaÃ§Ã£o</h3>
<pre><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SPLASH SCREEN                           â”‚
â”‚            (ApresentaÃ§Ã£o do App - 2-3 segundos)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ ENTRAR  â”‚             â”‚CRIAR CONTAâ”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LOGIN                  â”‚  â”‚ SIGNUP (Multi-step)    â”‚
    â”‚ - Email                â”‚  â”‚ - Email                â”‚
    â”‚ - Senha                â”‚  â”‚ - VerificaÃ§Ã£o Email    â”‚
    â”‚ - RecuperaÃ§Ã£o senha    â”‚  â”‚ - Senha                â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ - Termos               â”‚
         â”‚                      â”‚ - VerificaÃ§Ã£o          â”‚
         â”‚                      â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚   ONBOARDING        â”‚
             â”‚ (Multi-step form)   â”‚
             â”‚ - GÃªnero            â”‚
             â”‚ - Objetivos         â”‚
             â”‚ - Fotos             â”‚
             â”‚ - Bio               â”‚
             â”‚ - PreferÃªncias      â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    TABS PRINCIPAL (HOME)    â”‚
             â”‚ ğŸ”¥ Descoberta              â”‚
             â”‚ ğŸ’• Matches                 â”‚
             â”‚ ğŸ’¬ Chat                    â”‚
             â”‚ ğŸª Eventos                 â”‚
             â”‚ ğŸŒ¾ Network Rural           â”‚
             â”‚ ğŸ‘¤ Perfil                  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3>Telas Principais</h3>
<h4>1. **Splash Screen** (`onboarding-splash.tsx`)</h4>
<ul>
<li>ApresentaÃ§Ã£o da marca</li>
<ul>
<li>BotÃµes: Entrar / Criar Conta</li>
<ul>
<li>DuraÃ§Ã£o: 2-3 segundos se autenticado (skip automÃ¡tico)</li>
</ul>
<h4>2. **Login** (`login.tsx`)</h4>
<ul>
<li>Email input</li>
<ul>
<li>Senha input</li>
<ul>
<li>BotÃ£o "Entrar"</li>
<ul>
<li>Link "Esqueceu a senha?"</li>
<ul>
<li>Link "Criar Conta"</li>
<ul>
<li>ValidaÃ§Ã£o em tempo real</li>
</ul>
<h4>3. **Signup - Fluxo** (mÃºltiplas telas)</h4>
<ul>
<li><code>signup.tsx</code> - Nome e email</li>
<ul>
<li><code>signup-password.tsx</code> - Definir senha</li>
<ul>
<li><code>signup-verify-email.tsx</code> - VerificaÃ§Ã£o de cÃ³digo</li>
<ul>
<li><code>signup-confirm.tsx</code> - ConfirmaÃ§Ã£o final</li>
<ul>
<li><code>signup-terms.tsx</code> - Aceitar termos</li>
</ul>
<h4>4. **Onboarding - Fluxo** (mÃºltiplas telas)</h4>
<ul>
<li><code>onboarding-gender.tsx</code> - SeleÃ§Ã£o de gÃªnero</li>
<ul>
<li><code>onboarding-orientation.tsx</code> - OrientaÃ§Ã£o sexual</li>
<ul>
<li><code>onboarding-goals.tsx</code> - Objetivos de relacionamento</li>
<ul>
<li><code>onboarding-looking-for.tsx</code> - O que procura aqui</li>
<ul>
<li><code>onboarding-profile.tsx</code> - Bio e fotos</li>
<ul>
<li><code>onboarding-final.tsx</code> - ConclusÃ£o</li>
</ul>
<h4>5. **Feed de Descoberta** (`(tabs)/index.tsx`)</h4>
<ul>
<li>Cards deslizÃ¡veis de perfis</li>
<ul>
<li>Swipe direita: Like</li>
<ul>
<li>Swipe esquerda: Pass</li>
<ul>
<li>BotÃ£o Super Like (topo)</li>
<ul>
<li>BotÃ£o Filtros (topo)</li>
<ul>
<li>Infinite scroll</li>
</ul>
<h4>6. **Matches** (`(tabs)/matches.tsx`)</h4>
<ul>
<li>Lista de matches</li>
<ul>
<li>Avatar + nome + Ãºltima mensagem</li>
<ul>
<li>Timestamp da Ãºltima mensagem</li>
<ul>
<li>Indicador de mensagens nÃ£o lidas</li>
<ul>
<li>Click abre chat individual</li>
</ul>
<h4>7. **Chat Individual** (`chat/[id].tsx`)</h4>
<ul>
<li>CabeÃ§alho com avatar/nome/status online</li>
<ul>
<li>Lista de mensagens (scroll reverso)</li>
<ul>
<li>Input de mensagem</li>
<ul>
<li>BotÃ£o enviar (ou Ã­cone de envio)</li>
<ul>
<li>Indicador de digitaÃ§Ã£o</li>
<ul>
<li>Data separadora entre dias</li>
</ul>
<h4>8. **Eventos** (`(tabs)/events.tsx`)</h4>
<ul>
<li>Lista de eventos com grid/lista view toggle</li>
<ul>
<li>Cards com imagem, tÃ­tulo, data, local</li>
<ul>
<li>Filtro por tipo</li>
<ul>
<li>Busca por texto</li>
<ul>
<li>Pull-to-refresh</li>
</ul>
<h4>9. **Criar Evento** (`(tabs)/create-event.tsx`)</h4>
<ul>
<li>FormulÃ¡rio multi-step</li>
<ul>
<li>Upload de imagem</li>
<ul>
<li>SeleÃ§Ã£o de data/hora</li>
<ul>
<li>Coordenadas GPS</li>
<ul>
<li>Resumo e checkout</li>
</ul>
<h4>10. **Network Rural** (`(tabs)/network-rural.tsx`)</h4>
<ul>
<li>Lista de profissionais</li>
<ul>
<li>Filtros por Ã¡rea/profissÃ£o</li>
<ul>
<li>BotÃ£o conectar</li>
<ul>
<li>Badge LinkedIn se verificado</li>
<ul>
<li>HistÃ³rico de conexÃµes</li>
</ul>
<h4>11. **Perfil** (`(tabs)/profile.tsx`)</h4>
<ul>
<li>Avatar grande (editÃ¡vel)</li>
<ul>
<li>Nome, idade, localizaÃ§Ã£o</li>
<ul>
<li>Bio (editÃ¡vel)</li>
<ul>
<li>Galeria de fotos (edit)</li>
<ul>
<li>Badges (Premium, Network, Verificado)</li>
<ul>
<li>AÃ§Ãµes: Editar Perfil, ConfiguraÃ§Ãµes, Sair</li>
</ul>
<h4>12. **Editar Perfil** (`edit-profile.tsx`)</h4>
<ul>
<li>FormulÃ¡rio com todos os campos</li>
<ul>
<li>Upload de fotos com reordenaÃ§Ã£o</li>
<ul>
<li>Preview de como aparece para outros</li>
<ul>
<li>Salvamento automÃ¡tico</li>
</ul>
<h4>13. **Planos** (`plans.tsx`)</h4>
<ul>
<li>3 cards: Gratuito, Premium, Network</li>
<ul>
<li>PreÃ§os claros</li>
<ul>
<li>BotÃµes de aÃ§Ã£o (JÃ¡ tenho, Testar 3 dias, Assinar)</li>
<ul>
<li>ComparaÃ§Ã£o de features</li>
</ul>
<h4>14. **Checkout Premium** (`premium-checkout.tsx`)</h4>
<ul>
<li>Resumo do plano</li>
<ul>
<li>Dados de cobranÃ§a</li>
<ul>
<li>QR Code PIX</li>
<ul>
<li>Copia e cola do cÃ³digo</li>
<ul>
<li>BotÃ£o confirmar pagamento</li>
<ul>
<li>Ou selecionar outro mÃ©todo</li>
</ul>
<h4>15. **Obrigado - Premium** (`premium-thank-you.tsx`)</h4>
<ul>
<li>ConfirmaÃ§Ã£o de compra</li>
<ul>
<li>PrÃ³ximas features desbloqueadas</li>
<ul>
<li>BotÃ£o voltar para home</li>
</ul>
<h4>16. **ConfiguraÃ§Ãµes** (`settings.tsx`)</h4>
<ul>
<li>NotificaÃ§Ãµes</li>
<ul>
<li>Privacidade</li>
<ul>
<li>Dados e privacidade (LGPD)</li>
<ul>
<li>Sobre o app</li>
<ul>
<li>Logout</li>
<ul>
<li>Deletar conta</li>
</ul>
<h4>17. **Loja** (`(tabs)/store.tsx`)</h4>
<ul>
<li>Grid de produtos</li>
<ul>
<li>Super Likes avulsos</li>
<ul>
<li>Boosts (Assobios)</li>
<ul>
<li>PreÃ§os e botÃ£o comprar</li>
<ul>
<li>HistÃ³rico de compras</li>
<ul>
<li>Saldo atual de itens</li>
</ul>
<h4>18. **Detalhes de Perfil** (`profile-detail/[id].tsx`)</h4>
<ul>
<li>Fotos em carousel</li>
<ul>
<li>Nome, idade, localizaÃ§Ã£o, distÃ¢ncia</li>
<ul>
<li>Bio e informaÃ§Ãµes (conforme plano)</li>
<ul>
<li>Badges</li>
<ul>
<li>BotÃµes: Like, Super Like, Pass, Report, Block</li>
</ul>
<hr>
<h2>ğŸ§© COMPONENTES E ATIVOS TÃ‰CNICOS</h2>
<h3>Componentes Base (UI)</h3>
<h4>Componentes de Entrada</h4>
<ul>
<li><code>BotaInput.tsx</code> - Input de texto estilizado</li>
<ul>
<li><code>BotaButton.tsx</code> - BotÃ£o primÃ¡rio/secundÃ¡rio/outline</li>
<ul>
<li><code>BotaPickerSelect.tsx</code> - Seletor de opÃ§Ãµes</li>
<ul>
<li><code>BotaDatePicker.tsx</code> - Seletor de data</li>
<ul>
<li><code>BotaSlider.tsx</code> - Slider de intervalo (idade, distÃ¢ncia)</li>
</ul>
<h4>Componentes de ExibiÃ§Ã£o</h4>
<ul>
<li><code>ThemedText.tsx</code> - Texto com tema</li>
<ul>
<li><code>ThemedView.tsx</code> - View com tema</li>
<ul>
<li><code>Collapsible.tsx</code> - ConteÃºdo colapsÃ¡vel</li>
<ul>
<li><code>BotaCard.tsx</code> - Card genÃ©rico</li>
<ul>
<li><code>BotaBadge.tsx</code> - Badge de status</li>
</ul>
<h4>Componentes de NavegaÃ§Ã£o</h4>
<ul>
<li><code>HapticTab.tsx</code> - Tab com feedback hÃ¡ptico</li>
<ul>
<li><code>ExternalLink.tsx</code> - Link para URLs externas</li>
</ul>
<h3>Componentes de NegÃ³cio</h3>
<h4>AutenticaÃ§Ã£o</h4>
<ul>
<li><code>ProfileGuard.tsx</code> - HOC para proteger rotas</li>
<ul>
<li><code>RestrictedProfile.tsx</code> - Renderiza perfil com restriÃ§Ãµes</li>
</ul>
<h4>Matches e Descoberta</h4>
<ul>
<li><code>MatchAnimation.tsx</code> - AnimaÃ§Ã£o de match encontrado</li>
<ul>
<li><code>SuperLikeAnimation.tsx</code> - AnimaÃ§Ã£o de super like</li>
<ul>
<li><code>ProfileCard.tsx</code> - Card de perfil no feed</li>
</ul>
<h4>Modal e Overlay</h4>
<ul>
<li><code>PremiumModal.tsx</code> - Modal de upgrade premium</li>
<ul>
<li><code>ConversionModal.tsx</code> - Modal de conversÃ£o (when limit reached)</li>
<ul>
<li><code>CompleteProfileModal.tsx</code> - Lembrete de completar perfil</li>
<ul>
<li><code>NetworkBadge.tsx</code> - Badge de Network Rural</li>
</ul>
<h4>Chat</h4>
<ul>
<li><code>ConversationReminderCard.tsx</code> - Card de lembrete de inatividade</li>
</ul>
<h4>LocalizaÃ§Ã£o</h4>
<ul>
<li><code>LocationInitializer.tsx</code> - Inicializa GPS ao abrir app</li>
</ul>
<h4>Filtros</h4>
<ul>
<li><code>LockedFilter.tsx</code> - Filtro bloqueado para gratuito</li>
</ul>
<h3>Ãcones Rurais</h3>
<p>Componentes customizados em <code>components/rural-icons/</code>:</p>
<ul>
<li><code>CowIcon.tsx</code></li>
<ul>
<li><code>HayIcon.tsx</code></li>
<ul>
<li><code>HorseIcon.tsx</code></li>
<ul>
<li><code>CornIcon.tsx</code></li>
<ul>
<li><code>ChickenIcon.tsx</code></li>
<ul>
<li><code>PickaxeIcon.tsx</code></li>
<ul>
<li>E muitos outros...</li>
</ul>
<h3>Assets (Imagens e Fontes)</h3>
<h4>Imagens</h4>
<pre><code>
assets/images/
  â”œâ”€ icon.png (App icon)
  â”œâ”€ splash-icon.png (Splash)
  â”œâ”€ android-icon-*.png (Android icons)
  â”œâ”€ favicon.png (Web)
  â”œâ”€ logo-*.png (Logos)
  â””â”€ placeholder-*.png (Placeholders)
</code></pre>
<h4>Fontes</h4>
<ul>
<li><strong>Montserrat</strong> (Sans-serif regular)</li>
<ul>
<li><strong>Playfair Display</strong> (Serif elegante)</li>
</ul>
<p>Ambas as fontes sÃ£o carregadas via Expo Google Fonts.</p>
<h3>Tema e EstilizaÃ§Ã£o</h3>
<h4>Sistema de Cores</h4>
<pre><code>
const BotaLoveColors = {
  // PrimÃ¡rias (Laranja/Amarelo - Agro)
  primary: &#39;#F9A825&#39;,          // Laranja principal
  primaryLight: &#39;#FFD54F&#39;,     // Amarelo claro
  primaryDark: &#39;#F57C00&#39;,      // Laranja escuro
  
  // SecundÃ¡rias (Marrom - Couro/Terra)
  secondary: &#39;#502914&#39;,         // Marrom escuro
  secondaryLight: &#39;#663C23&#39;,    // Marrom mÃ©dio
  secondaryDark: &#39;#3E1F0F&#39;,     // Marrom muito escuro
  
  // Neutras
  neutralLight: &#39;#FFF9E6&#39;,      // Bege muito claro
  neutralMedium: &#39;#A9927A&#39;,     // Marrom claro
  neutralDark: &#39;#7A5841&#39;,       // Marrom opaco
  
  // Texto
  textPrimary: &#39;#1F130C&#39;,       // Marrom muito escuro
  textSecondary: &#39;#502914&#39;,     // Marrom mÃ©dio
  textLight: &#39;#FFFFFF&#39;,         // Branco
  
  // Background
  backgroundLight: &#39;#EFEFEF&#39;,   // Cinza claro
  backgroundWhite: &#39;#FFFFFF&#39;,   // Branco puro
  
  // Status
  error: &#39;#E53935&#39;,             // Vermelho
  success: &#39;#66BB6A&#39;,           // Verde
  warning: &#39;#FFA726&#39;,           // Laranja aviso
  info: &#39;#42A5F5&#39;,              // Azul
  
  // Outros
  border: &#39;#E0E0E0&#39;,
  disabled: &#39;#CCCCCC&#39;,
};
</code></pre>
<h4>Tipografia</h4>
<pre><code>
const BotaLoveTypography = {
  // Headings
  h1: {
    fontFamily: &#39;PlayfairDisplay_700Bold&#39;,
    fontSize: 32,
    lineHeight: 40,
    fontWeight: &#39;700&#39;,
  },
  h2: {
    fontFamily: &#39;PlayfairDisplay_700Bold&#39;,
    fontSize: 28,
    lineHeight: 36,
    fontWeight: &#39;700&#39;,
  },
  h3: {
    fontFamily: &#39;Montserrat_700Bold&#39;,
    fontSize: 20,
    lineHeight: 28,
    fontWeight: &#39;700&#39;,
  },
  
  // Body
  bodyLarge: {
    fontFamily: &#39;Montserrat_400Regular&#39;,
    fontSize: 16,
    lineHeight: 24,
    fontWeight: &#39;400&#39;,
  },
  bodyRegular: {
    fontFamily: &#39;Montserrat_400Regular&#39;,
    fontSize: 14,
    lineHeight: 20,
    fontWeight: &#39;400&#39;,
  },
  
  // Caption
  caption: {
    fontFamily: &#39;Montserrat_400Regular&#39;,
    fontSize: 12,
    lineHeight: 16,
    fontWeight: &#39;400&#39;,
  },
};
</code></pre>
<h3>Estrutura de Pastas de Componentes</h3>
<pre><code>
components/
  â”œâ”€ ui/
  â”‚   â”œâ”€ bota-button.tsx
  â”‚   â”œâ”€ bota-input.tsx
  â”‚   â”œâ”€ bota-card.tsx
  â”‚   â”œâ”€ collapsible.tsx
  â”‚   â”œâ”€ picker-select.tsx
  â”‚   â”œâ”€ date-picker.tsx
  â”‚   â”œâ”€ slider-range.tsx
  â”‚   â””â”€ bota-badge.tsx
  â”‚
  â”œâ”€ CompleteProfileModal.tsx
  â”œâ”€ ConversationReminderCard.tsx
  â”œâ”€ ConversionModal.tsx
  â”œâ”€ external-link.tsx
  â”œâ”€ haptic-tab.tsx
  â”œâ”€ hello-wave.tsx
  â”œâ”€ LocationInitializer.tsx
  â”œâ”€ LockedFilter.tsx
  â”œâ”€ MatchAnimation.tsx
  â”œâ”€ NetworkBadge.tsx
  â”œâ”€ parallax-scroll-view.tsx
  â”œâ”€ PremiumModal.tsx
  â”œâ”€ ProfileGuard.tsx
  â”œâ”€ RestrictedProfile.tsx
  â”œâ”€ SuperLikeAnimation.tsx
  â”œâ”€ themed-text.tsx
  â”œâ”€ themed-view.tsx
  â”‚
  â””â”€ rural-icons/
      â”œâ”€ cow-icon.tsx
      â”œâ”€ hay-icon.tsx
      â”œâ”€ horse-icon.tsx
      â”œâ”€ corn-icon.tsx
      â”œâ”€ chicken-icon.tsx
      â”œâ”€ pickaxe-icon.tsx
      â””â”€ ... (20+ Ã­cones rurais)
</code></pre>
<hr>
<h2>ğŸ› ï¸ STACK TECNOLÃ“GICO</h2>
<h3>VersÃµes CrÃ­ticas</h3>
<h3>DependÃªncias de Runtime</h3>
<pre><code>
{
  &quot;@expo-google-fonts/montserrat&quot;: &quot;^0.4.2&quot;,
  &quot;@expo-google-fonts/playfair-display&quot;: &quot;^0.4.2&quot;,
  &quot;@expo/vector-icons&quot;: &quot;^15.0.3&quot;,
  &quot;@react-native-async-storage/async-storage&quot;: &quot;^2.2.0&quot;,
  &quot;@react-native-community/datetimepicker&quot;: &quot;8.4.4&quot;,
  &quot;@react-native-community/slider&quot;: &quot;5.0.1&quot;,
  &quot;@react-native-firebase/app&quot;: &quot;^23.7.0&quot;,
  &quot;@react-native-firebase/auth&quot;: &quot;^23.7.0&quot;,
  &quot;@react-native-firebase/firestore&quot;: &quot;^23.7.0&quot;,
  &quot;@react-native-firebase/messaging&quot;: &quot;^23.7.0&quot;,
  &quot;@react-native-firebase/storage&quot;: &quot;^23.7.0&quot;,
  &quot;@react-native-picker/picker&quot;: &quot;2.11.1&quot;,
  &quot;@react-navigation/bottom-tabs&quot;: &quot;^7.4.0&quot;,
  &quot;@react-navigation/native&quot;: &quot;^7.1.8&quot;,
  &quot;date-fns&quot;: &quot;^3.6.0&quot;,
  &quot;expo&quot;: &quot;~54.0.31&quot;,
  &quot;expo-clipboard&quot;: &quot;^8.0.8&quot;,
  &quot;expo-constants&quot;: &quot;~18.0.10&quot;,
  &quot;expo-device&quot;: &quot;~8.0.10&quot;,
  &quot;expo-font&quot;: &quot;~14.0.9&quot;,
  &quot;expo-haptics&quot;: &quot;~15.0.8&quot;,
  &quot;expo-image&quot;: &quot;~3.0.11&quot;,
  &quot;expo-image-picker&quot;: &quot;~17.0.10&quot;,
  &quot;expo-linear-gradient&quot;: &quot;~15.0.8&quot;,
  &quot;expo-linking&quot;: &quot;~8.0.11&quot;,
  &quot;expo-location&quot;: &quot;~19.0.8&quot;,
  &quot;expo-notifications&quot;: &quot;~0.32.16&quot;,
  &quot;expo-router&quot;: &quot;~6.0.21&quot;,
  &quot;expo-splash-screen&quot;: &quot;~31.0.13&quot;,
  &quot;expo-status-bar&quot;: &quot;~3.0.9&quot;,
  &quot;expo-symbols&quot;: &quot;~1.0.8&quot;,
  &quot;expo-system-ui&quot;: &quot;~6.0.9&quot;,
  &quot;expo-updates&quot;: &quot;~29.0.16&quot;,
  &quot;expo-web-browser&quot;: &quot;~15.0.10&quot;,
  &quot;firebase&quot;: &quot;^12.7.0&quot;,
  &quot;react&quot;: &quot;19.1.0&quot;,
  &quot;react-dom&quot;: &quot;19.1.0&quot;,
  &quot;react-icons&quot;: &quot;^5.5.0&quot;,
  &quot;react-native&quot;: &quot;0.81.5&quot;,
  &quot;react-native-draggable-flatlist&quot;: &quot;^4.0.3&quot;,
  &quot;react-native-gesture-handler&quot;: &quot;~2.28.0&quot;,
  &quot;react-native-reanimated&quot;: &quot;~4.1.1&quot;,
  &quot;react-native-safe-area-context&quot;: &quot;~5.6.0&quot;,
  &quot;react-native-screens&quot;: &quot;~4.16.0&quot;,
  &quot;react-native-svg&quot;: &quot;15.12.1&quot;,
  &quot;react-native-web&quot;: &quot;~0.21.0&quot;
}
</code></pre>
<h3>DependÃªncias de Desenvolvimento</h3>
<pre><code>
{
  &quot;@types/react&quot;: &quot;~19.1.0&quot;,
  &quot;eslint&quot;: &quot;^9.25.0&quot;,
  &quot;eslint-config-expo&quot;: &quot;~10.0.0&quot;,
  &quot;typescript&quot;: &quot;~5.9.2&quot;
}
</code></pre>
<hr>
<h2>ğŸ” SEGURANÃ‡A E REGRAS FIRESTORE</h2>
<h3>Arquitetura de SeguranÃ§a</h3>
<pre><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Firebase Authentication (Email/Password)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                 â”‚
     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
     â”‚ Firebase  â”‚                    â”‚  Firestoreâ”‚
     â”‚   Auth    â”‚                    â”‚  Security â”‚
     â”‚           â”‚                    â”‚   Rules   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         Application Logic                  â”‚
     â”‚    (ValidaÃ§Ã£o, AutorizaÃ§Ã£o, Auditoria)     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3>Regras de SeguranÃ§a (Firestore)</h3>
<h4>PrincÃ­pios</h4>
<p>1. <strong>AutenticaÃ§Ã£o ObrigatÃ³ria:</strong> Apenas usuÃ¡rios autenticados podem acessar</p>
<p>2. <strong>AutorizaÃ§Ã£o por Documento:</strong> UsuÃ¡rios sÃ³ acessam dados que lhes pertencem</p>
<p>3. <strong>Cloud Functions Protegidas:</strong> OperaÃ§Ãµes crÃ­ticas via admin SDK</p>
<p>4. <strong>Auditoria:</strong> Logs de todas as aÃ§Ãµes</p>
<h4>Regras por Collection</h4>
<p><strong>Collection: <code>users</code></strong></p>
<pre><code>
// Leitura: autenticado pode ler qualquer perfil (com restriÃ§Ãµes no app)
allow read: if isAuthenticated()

// CriaÃ§Ã£o: apenas o prÃ³prio usuÃ¡rio pode criar seu documento
allow create: if isOwner(userId)

// AtualizaÃ§Ã£o: prÃ³prio usuÃ¡rio ou admin
allow update: if isOwner(userId) || isAdmin()

// DeleÃ§Ã£o: prÃ³prio usuÃ¡rio ou admin
allow delete: if isOwner(userId) || isAdmin()
</code></pre>
<p><strong>Collection: <code>likes</code></strong></p>
<pre><code>
// Leitura: apenas quem deu ou recebeu o like
allow read: if isAuthenticated() &amp;&amp; 
  (resource.data.fromUserId == request.auth.uid || 
   resource.data.toUserId == request.auth.uid)

// CriaÃ§Ã£o: quem dÃ¡ like
allow create: if isAuthenticated() &amp;&amp; 
  request.resource.data.fromUserId == request.auth.uid

// AtualizaÃ§Ã£o: quem deu like
allow update: if isAuthenticated() &amp;&amp; 
  resource.data.fromUserId == request.auth.uid

// DeleÃ§Ã£o: quem deu like
allow delete: if isAuthenticated() &amp;&amp; 
  resource.data.fromUserId == request.auth.uid
</code></pre>
<p><strong>Collection: <code>chats</code> e <code>chats/{chatId}/messages</code></strong></p>
<pre><code>
// Leitura: apenas participantes do chat
allow read: if isAuthenticated() &amp;&amp; 
  request.auth.uid in resource.data.participants

// CriaÃ§Ã£o: participante
allow create: if isAuthenticated() &amp;&amp; 
  request.auth.uid in request.resource.data.participants

// Mensagens: apenas participantes podem enviar
allow create: if isAuthenticated() &amp;&amp; 
  request.resource.data.senderId == request.auth.uid

// DeleÃ§Ã£o: apenas quem enviou a mensagem
allow delete: if isAuthenticated() &amp;&amp; 
  resource.data.senderId == request.auth.uid
</code></pre>
<p><strong>Collection: <code>payments</code></strong></p>
<pre><code>
// Leitura: usuÃ¡rio vÃª seus prÃ³prios, admin vÃª todos
allow read: if isAuthenticated() &amp;&amp; 
  (resource.data.userId == request.auth.uid || isAdmin())

// CriaÃ§Ã£o: usuÃ¡rio cria seu prÃ³prio
allow create: if isAuthenticated() &amp;&amp; 
  request.resource.data.userId == request.auth.uid

// DeleÃ§Ã£o: NUNCA (manter auditoria)
allow delete: if false
</code></pre>
<p><strong>Collection: <code>notifications</code></strong></p>
<pre><code>
// Leitura: apenas o destinatÃ¡rio
allow read: if isOwner(resource.data.userId)

// CriaÃ§Ã£o: Cloud Functions apenas
allow create: if false

// AtualizaÃ§Ã£o: destinatÃ¡rio marca como lida
allow update: if isOwner(resource.data.userId)
</code></pre>
<h3>ValidaÃ§Ãµes CrÃ­ticas</h3>
<p>1. <strong>Email Verification</strong></p>
<p>- CÃ³digo enviado via email</p>
<p>- VÃ¡lido por 24h</p>
<p>- MÃ¡ximo 5 tentativas</p>
<p>2. <strong>Rate Limiting</strong></p>
<p>- MÃ¡ximo 5 likes por segundo (previne abuse)</p>
<p>- MÃ¡ximo 10 registros por IP/dia</p>
<p>3. <strong>ConteÃºdo Indevido</strong></p>
<p>- ModeraÃ§Ã£o de fotos (Google Cloud Vision)</p>
<p>- ModeraÃ§Ã£o de textos (regex + IA)</p>
<p>- Bloqueio automÃ¡tico se score alto</p>
<p>4. <strong>Auditoria</strong></p>
<p>- Log de todos os logins</p>
<p>- Log de todas as transaÃ§Ãµes</p>
<p>- Log de aÃ§Ãµes administrativas</p>
<hr>
<h2>ğŸ“ CONCLUSÃƒO</h2>
<p>O <strong>Bota Love App</strong> Ã© um aplicativo mobile completo, seguro e bem arquitetado, desenvolvido com tecnologias modernas e melhores prÃ¡ticas de desenvolvimento. Todas as funcionalidades descritas nesta documentaÃ§Ã£o foram implementadas e testadas, cumprindo integralmente os requisitos contratuais.</p>
<h3>Funcionalidades Entregues</h3>
<ul>
<li>âœ… Sistema completo de autenticaÃ§Ã£o</li>
<ul>
<li>âœ… Gerenciamento de perfis</li>
<ul>
<li>âœ… Descoberta e sistema de matches</li>
<ul>
<li>âœ… Chat em tempo real com moderaÃ§Ã£o</li>
<ul>
<li>âœ… Sistema de planos com 6 opÃ§Ãµes</li>
<ul>
<li>âœ… Pagamentos via PIX (Stripe)</li>
<ul>
<li>âœ… Gerenciamento de eventos</li>
<ul>
<li>âœ… Network Rural com LinkedIn</li>
<ul>
<li>âœ… Loja virtual</li>
<ul>
<li>âœ… Push notifications</li>
<ul>
<li>âœ… ModeraÃ§Ã£o de conteÃºdo</li>
<ul>
<li>âœ… Regras de seguranÃ§a completas</li>
</ul>
<h3>Qualidade TÃ©cnica</h3>
<ul>
<li>âœ… TypeScript para type safety</li>
<ul>
<li>âœ… React Native/Expo para multiplataforma</li>
<ul>
<li>âœ… Firebase para backend escalÃ¡vel</li>
<ul>
<li>âœ… Cloud Functions serverless</li>
<ul>
<li>âœ… Firestore com Ã­ndices otimizados</li>
<ul>
<li>âœ… Testes de seguranÃ§a</li>
<ul>
<li>âœ… DocumentaÃ§Ã£o completa</li>
</ul>
<h3>Suporte</h3>
<p>Toda a documentaÃ§Ã£o tÃ©cnica estÃ¡ disponÃ­vel em repositÃ³rio, incluindo:</p>
<ul>
<li>Setup inicial (FIREBASE_SETUP.md)</li>
<ul>
<li>IntegraÃ§Ã£o de pagamentos (STRIPE_LINKEDIN_SETUP.md)</li>
<ul>
<li>Detalhes de cada mÃ³dulo (MATCH_MODULE.md, etc)</li>
<ul>
<li>Guias de moderaÃ§Ã£o e seguranÃ§a</li>
</ul>
<hr>
<p><strong>Data da ConclusÃ£o:</strong> Fevereiro 2026</p>
<p><strong>VersÃ£o:</strong> 1.0.0</p>
<p><strong>Status:</strong> ProduÃ§Ã£o</p>

    <div class="footer">
        <p><strong>Bota Love App</strong> - DocumentaÃ§Ã£o TÃ©cnica de ValidaÃ§Ã£o</p>
        <p>VersÃ£o 1.0.0 | Status: ProduÃ§Ã£o</p>
        <p>Data: 01/02/2026</p>
    </div>
    
</body>
</html>
    